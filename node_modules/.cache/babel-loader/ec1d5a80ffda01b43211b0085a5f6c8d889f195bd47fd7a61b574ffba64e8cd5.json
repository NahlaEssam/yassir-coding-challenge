{"ast":null,"code":"var _jsxFileName = \"/Users/nahla/Desktop/yassir/yassir-coding-challenge/src/views/reservations/index.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport './reservations.scss';\nimport data from '../../mocks/reservations';\nimport ReservationItem from '../../components/reservation-item';\nimport Filters from '../../components/filter';\nimport Sort from '../../components/sort';\nimport Search from '../../components/search';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ReservationView() {\n  _s();\n  const [reservations, setReservations] = React.useState(data.reservations);\n  const [lastReservations, setLastReservations] = React.useState(data.reservations);\n  const checkEmptyFilters = filters => {\n    let empty = true;\n    for (const [key, value] of Object.entries(filters)) {\n      if (value !== '') {\n        empty = false;\n      }\n    }\n    return empty;\n  };\n  const filterReservations = filters => {\n    if (!checkEmptyFilters(filters)) {\n      const filteredData = data.reservations.filter(_res => {\n        const filterDate = new Date(filters.date);\n        const businessDate = new Date(_res.businessDate);\n        return (filters.status === '' || filters.status === _res.status) && (filters.date === '' || filterDate.toDateString() === businessDate.toDateString()) && (filters.shift === '' || filters.shift === _res.shift) && (filters.area === '' || filters.area === _res.area);\n      });\n      setReservations(filteredData);\n      setLastReservations(filteredData);\n    } else {\n      setReservations(data.reservations);\n      setLastReservations(data.reservations);\n    }\n  };\n  const sortReservations = key => {\n    const sortedResevations = reservations.sort((a, b) => {\n      let itemA;\n      let itemB;\n      if (key === 'name') {\n        itemA = (a.customer.firstName + a.customer.lastName).toUpperCase();\n        itemB = (b.customer.firstName + b.customer.lastName).toUpperCase();\n      } else {\n        itemA = a.id;\n        itemB = b.id;\n      }\n      if (itemA < itemB) {\n        return -1;\n      }\n      if (itemA > itemB) {\n        return 1;\n      }\n      return 0;\n    });\n    setReservations([]);\n    setTimeout(() => {\n      setReservations(sortedResevations);\n      setLastReservations(sortedResevations);\n    }, 0);\n  };\n  const searchReservations = searchValues => {\n    const filteredReservations = lastReservations.filter(_res => {\n      return _res.customer.firstName.toUpperCase().startsWith(searchValues.firstName.toUpperCase()) && _res.customer.lastName.toUpperCase().startsWith(searchValues.lastName.toUpperCase());\n    });\n    setReservations([]);\n    setTimeout(() => {\n      setReservations(filteredReservations);\n    }, 0);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"reservation-view\",\n    children: [/*#__PURE__*/_jsxDEV(Filters, {\n      handleFilter: filterReservations\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sort-search-container\",\n      children: [/*#__PURE__*/_jsxDEV(Search, {\n        handleSearch: searchReservations\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Sort, {\n        handleSort: sortReservations\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"results-label\",\n      children: \" Results: \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this), reservations.length !== 0 && reservations.map(item => /*#__PURE__*/_jsxDEV(ReservationItem, {\n      reservation: item\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }, this)), reservations.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-results-text\",\n      children: \"No Reservations\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 44\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, this);\n}\n_s(ReservationView, \"7XfxHchp1toYI9bCZzZz5S8G+OM=\");\n_c = ReservationView;\nexport default ReservationView;\nvar _c;\n$RefreshReg$(_c, \"ReservationView\");","map":{"version":3,"names":["React","data","ReservationItem","Filters","Sort","Search","jsxDEV","_jsxDEV","ReservationView","_s","reservations","setReservations","useState","lastReservations","setLastReservations","checkEmptyFilters","filters","empty","key","value","Object","entries","filterReservations","filteredData","filter","_res","filterDate","Date","date","businessDate","status","toDateString","shift","area","sortReservations","sortedResevations","sort","a","b","itemA","itemB","customer","firstName","lastName","toUpperCase","id","setTimeout","searchReservations","searchValues","filteredReservations","startsWith","className","children","handleFilter","fileName","_jsxFileName","lineNumber","columnNumber","handleSearch","handleSort","length","map","item","reservation","_c","$RefreshReg$"],"sources":["/Users/nahla/Desktop/yassir/yassir-coding-challenge/src/views/reservations/index.tsx"],"sourcesContent":["import React from 'react';\nimport './reservations.scss';\nimport data from '../../mocks/reservations';\nimport ReservationItem from '../../components/reservation-item';\nimport Filters from '../../components/filter';\nimport Sort from '../../components/sort';\nimport Search from '../../components/search';\n\nfunction ReservationView() {\n\n    const [reservations, setReservations] = React.useState(data.reservations);\n    const [lastReservations, setLastReservations] = React.useState(data.reservations);\n\n    const checkEmptyFilters = (filters) => {\n        let empty = true;\n        for (const [key, value] of Object.entries(filters)) {\n            if (value !== '') {\n                empty = false;\n            }\n\n        }\n\n        return empty;\n    }\n    const filterReservations = (filters: any) => {\n        if (!checkEmptyFilters(filters)) {\n            const filteredData = data.reservations.filter(_res => {\n                const filterDate = new Date(filters.date);\n                const businessDate = new Date(_res.businessDate);\n                return (filters.status === '' || filters.status === _res.status) &&\n                    (filters.date === '' || filterDate.toDateString() === businessDate.toDateString()) &&\n                    (filters.shift === '' || filters.shift === _res.shift) &&\n                    (filters.area === '' || filters.area === _res.area)\n            });\n\n            setReservations(filteredData);\n            setLastReservations(filteredData);\n        } else {\n            setReservations(data.reservations);\n            setLastReservations(data.reservations);\n        }\n    };\n\n    const sortReservations = (key: string) => {\n        const sortedResevations = reservations.sort((a, b) => {\n            let itemA;\n            let itemB;\n            if (key === 'name') {\n                itemA = (a.customer.firstName + a.customer.lastName).toUpperCase();\n                itemB = (b.customer.firstName + b.customer.lastName).toUpperCase();\n            } else {\n                itemA = a.id;\n                itemB = b.id;\n            }\n\n            if (itemA < itemB) {\n                return -1;\n            }\n            if (itemA > itemB) {\n                return 1;\n            }\n            return 0;\n        });\n        setReservations([]);\n        setTimeout(() => {\n            setReservations(sortedResevations);\n            setLastReservations(sortedResevations);\n        }, 0);\n    };\n\n    const searchReservations = (searchValues) => {\n        const filteredReservations = lastReservations.filter(_res => {\n            return _res.customer.firstName.toUpperCase().startsWith(searchValues.firstName.toUpperCase()) &&\n                _res.customer.lastName.toUpperCase().startsWith(searchValues.lastName.toUpperCase())\n        });\n\n        setReservations([]);\n        setTimeout(() => {\n            setReservations(filteredReservations);\n        }, 0);\n\n    }\n    return (\n        <div className='reservation-view'>\n\n            <Filters handleFilter={filterReservations} />\n            <div className='sort-search-container'>\n                <Search handleSearch={searchReservations} />\n                <Sort handleSort={sortReservations} />\n            </div>\n            <div className='results-label'> Results: </div>\n            {reservations.length !== 0 && reservations.map(item => (\n                <ReservationItem reservation={item} />\n            ))}\n            {reservations.length === 0 && (<div className='no-results-text'>No Reservations</div>)}\n        </div>\n    );\n}\n\nexport default ReservationView;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}