{"ast":null,"code":"var _jsxFileName = \"/Users/nahla/Desktop/yassir/yassir-coding-challenge/src/views/reservations/index.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport data from '../../mocks/reservations';\nimport ReservationItem from '../../components/reservation-item';\nimport Filters from '../../components/filter';\nimport Sort from '../../components/sort';\nimport Search from '../../components/search';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ReservationView() {\n  _s();\n  const [reservations, setReservations] = React.useState(data.reservations);\n  const checkEmptyFilters = filters => {\n    let empty = true;\n    for (const [key, value] of Object.entries(filters)) {\n      if (value !== '') {\n        empty = false;\n      }\n    }\n    return empty;\n  };\n  const filterReservations = filters => {\n    if (!checkEmptyFilters(filters)) {\n      const filteredData = data.reservations.filter(_res => {\n        const filterDate = new Date(filters.date);\n        const businessDate = new Date(_res.businessDate);\n        return (filters.status === '' || filters.status === _res.status) && (filters.date === '' || filterDate.toDateString() === businessDate.toDateString()) && (filters.shift === '' || filters.shift === _res.shift) && (filters.area === '' || filters.area === _res.area);\n      });\n      setReservations(filteredData);\n    } else {\n      setReservations(data.reservations);\n    }\n  };\n  const sortReservations = key => {\n    const sortedResevations = reservations.sort((a, b) => {\n      let itemA;\n      let itemB;\n      if (key === 'name') {\n        itemA = (a.customer.firstName + a.customer.lastName).toUpperCase();\n        itemB = (b.customer.firstName + b.customer.lastName).toUpperCase();\n      } else {\n        itemA = a.id;\n        itemB = b.id;\n      }\n      if (itemA < itemB) {\n        return -1;\n      }\n      if (itemA > itemB) {\n        return 1;\n      }\n\n      // names must be equal\n      return 0;\n    });\n    setReservations([]);\n    setTimeout(() => {\n      setReservations(sortedResevations);\n    }, 0);\n  };\n  const searchReservations = searchValues => {\n    const filteredReservations = reservations.filter(_res => {\n      return _res.customer.firstName.toUpperCase().includes(searchValues.firstName.toUpperCase());\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Filters, {\n      handleFilter: filterReservations\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Sort, {\n      handleSort: sortReservations\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Search, {\n      handleSearch: searchReservations\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), reservations.map(item => /*#__PURE__*/_jsxDEV(ReservationItem, {\n      reservation: item\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n}\n_s(ReservationView, \"IuHT+FNgtP5Wb6SFMKxdh9d70iU=\");\n_c = ReservationView;\nexport default ReservationView;\nvar _c;\n$RefreshReg$(_c, \"ReservationView\");","map":{"version":3,"names":["React","data","ReservationItem","Filters","Sort","Search","jsxDEV","_jsxDEV","ReservationView","_s","reservations","setReservations","useState","checkEmptyFilters","filters","empty","key","value","Object","entries","filterReservations","filteredData","filter","_res","filterDate","Date","date","businessDate","status","toDateString","shift","area","sortReservations","sortedResevations","sort","a","b","itemA","itemB","customer","firstName","lastName","toUpperCase","id","setTimeout","searchReservations","searchValues","filteredReservations","includes","children","handleFilter","fileName","_jsxFileName","lineNumber","columnNumber","handleSort","handleSearch","map","item","reservation","_c","$RefreshReg$"],"sources":["/Users/nahla/Desktop/yassir/yassir-coding-challenge/src/views/reservations/index.tsx"],"sourcesContent":["import React from 'react';\nimport data from '../../mocks/reservations';\nimport ReservationItem from '../../components/reservation-item';\nimport Filters from '../../components/filter';\nimport Sort from '../../components/sort';\nimport Search from '../../components/search';\n\nfunction ReservationView() {\n\n    const [reservations, setReservations] = React.useState(data.reservations);\n    const checkEmptyFilters = (filters) => {\n        let empty = true;\n        for (const [key, value] of Object.entries(filters)) {\n            if (value !== '') {\n                empty = false;\n            }\n\n        }\n\n        return empty;\n    }\n    const filterReservations = (filters: any) => {\n        if (!checkEmptyFilters(filters)) {\n            const filteredData = data.reservations.filter(_res => {\n                const filterDate = new Date(filters.date);\n                const businessDate = new Date(_res.businessDate);\n                return (filters.status === '' || filters.status === _res.status) &&\n                    (filters.date === '' || filterDate.toDateString() === businessDate.toDateString()) &&\n                    (filters.shift === '' || filters.shift === _res.shift) &&\n                    (filters.area === '' || filters.area === _res.area)\n            });\n\n            setReservations(filteredData);\n        } else {\n            setReservations(data.reservations);\n        }\n    };\n\n    const sortReservations = (key: string) => {\n        const sortedResevations = reservations.sort((a, b) => {\n            let itemA;\n            let itemB;\n            if (key === 'name') {\n                itemA = (a.customer.firstName + a.customer.lastName).toUpperCase();\n                itemB = (b.customer.firstName + b.customer.lastName).toUpperCase();\n            } else {\n                itemA = a.id;\n                itemB = b.id;\n            }\n\n            if (itemA < itemB) {\n                return -1;\n            }\n            if (itemA > itemB) {\n                return 1;\n            }\n\n            // names must be equal\n            return 0;\n        });\n        setReservations([]);\n        setTimeout(()=>{\n            setReservations(sortedResevations);\n        }, 0);\n    };\n\n    const searchReservations = (searchValues) => {\n        const filteredReservations = reservations.filter(_res => {\n            \n            return _res.customer.firstName.toUpperCase().includes(searchValues.firstName.toUpperCase())                \n        });\n    }\n    return (\n        <div>\n            <Filters handleFilter={filterReservations} />\n            <Sort handleSort={sortReservations} />\n            <Search handleSearch={searchReservations} />\n            {reservations.map(item => (\n                <ReservationItem reservation={item} />\n            ))}\n        </div>\n    );\n}\n\nexport default ReservationView;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}